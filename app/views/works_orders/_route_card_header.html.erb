<%# Route Card Header for Works Order %>

<header>
  <div class="header-details">
    <!-- Two-column layout for main fields -->
    <div class="header-row">
      <div class="header-row-inner">
        <div class="header-row-inner2">
          <!-- Left column -->
          <div class="header-field-label">Customer</div>
          <div class="header-field-value"><%= works_order.customer.name %></div>
          <!-- Right column -->
          <div class="header-field-label">WO</div>
          <div class="header-field-value"><%= works_order.number %></div>
        </div>
      </div>
    </div>

    <div class="header-row">
      <div class="header-row-inner">
        <div class="header-row-inner2">
          <!-- Left column -->
          <div class="header-field-label">Customer Order</div>
          <div class="header-field-value"><%= works_order.customer_order.number %></div>
          <!-- Right column -->
          <div class="header-field-label">Qty</div>
          <div class="header-field-value"><%= works_order.quantity %></div>
        </div>
      </div>
    </div>

    <!-- Customer Reference (if present) -->
    <% if works_order.customer_reference.present? %>
      <div class="header-row">
        <div class="header-row-inner">
          <div class="header-row-inner2">
            <!-- Full width for customer reference -->
            <div class="header-field-label">Customer Ref</div>
            <div class="header-field-value header-field-value-wide">
              <%= works_order.customer_reference %>
            </div>
          </div>
        </div>
      </div>
    <% end %>

    <div class="header-row">
      <div class="header-row-inner">
        <div class="header-row-inner2">
          <!-- Left column -->
          <div class="header-field-label">Part Number</div>
          <div class="header-field-value"><%= works_order.part_number %></div>
          <!-- Right column -->
          <div class="header-field-label">Issue</div>
          <div class="header-field-value"><%= works_order.part_issue %></div>
        </div>
      </div>
    </div>

    <div class="header-row">
      <div class="header-row-inner">
        <div class="header-row-inner2">
          <!-- Left column -->
          <div class="header-field-label">Material</div>
          <div class="header-field-value"><%= works_order.part&.material.presence || "Not specified" %></div>
          <!-- Right column -->
          <div class="header-field-label">Specified Thickness(es)</div>
          <div class="header-field-value"><%= works_order.part&.specified_thicknesses.presence || "Not specified" %></div>
        </div>
      </div>
    </div>

    <div class="header-row">
      <div class="header-row-inner">
        <div class="header-row-inner2">
          <!-- Left column -->
          <div class="header-field-label">Date Created</div>
          <div class="header-field-value"><%= works_order.created_at.strftime("%d/%m/%Y") %></div>
          <!-- Right column -->
          <% if works_order.each_price.present? %>
            <div class="header-field-label">Each Price</div>
            <div class="header-field-value"><%= number_to_currency(works_order.each_price, unit: "£") %></div>
          <% else %>
            <div class="header-field-label">Lot Price</div>
            <div class="header-field-value"><%= number_to_currency(works_order.lot_price, unit: "£") %></div>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Full width for specification -->
    <div class="header-row">
      <div class="header-row-inner">
        <div class="header-row-inner2">
          <div class="header-field-label">Spec</div>
          <div class="header-field-value header-field-value-wide">
            <%= works_order.specification.presence || "No specification" %>
          </div>
        </div>
      </div>
    </div>

    <!-- Full width for description -->
    <div class="header-row">
      <div class="header-row-inner">
        <div class="header-row-inner2">
          <div class="header-field-label">Description</div>
          <div class="header-field-value header-field-value-wide"><%= works_order.part_description %></div>
        </div>
      </div>
    </div>

    <!-- Special Instructions (if present) -->
    <% if works_order.special_instructions.present? %>
      <div class="header-row">
        <div class="header-row-inner">
          <div class="header-row-inner2">
            <div class="header-field-label">Special Instructions</div>
            <div class="header-field-value header-field-value-wide"><%= works_order.special_instructions %></div>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</header>
